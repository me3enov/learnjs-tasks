<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>5.8.1 Store "unread" flags</title>
    <script src="scripts.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="body">
<header class="header">
    <h1 class="header__title">5.8.1 Store "unread" flags</h1>
    <p class="header__importance">importance: 5</p>
</header>
<main class="main">
    <section class="section">
        <div class="task">
            <h2 class="section__title">Tasks:</h2>
            <p class="section__text">
                There’s an array of messages:
            </p>
            <pre class="code-container"><code class="code_task">let messages = [
  {text: "Hello", from: "John"},
  {text: "How goes?", from: "John"},
  {text: "See you soon", from: "Alice"}
];</code></pre>
            <p class="section__text">
                Your code can access it, but the messages are managed by someone else’s code.
                New messages are added, old ones are removed regularly by that code,
                and you don’t know the exact moments when it happens.<br><br>

                Now, which data structure could you use to store information about whether
                the message “has been read”? The structure must be well-suited to give the
                answer “was it read?” for the given message object.<br><br>

                P.S. When a message is removed from messages, it should disappear
                from your structure as well.<br><br>

                P.P.S. We shouldn’t modify message objects, add our properties to them.
                As they are managed by someone else’s code, that may lead to bad consequences.
            </p>
        </div>
    </section>
    <section class="section">
        <div class="answer">
            <h2 class="section__title">Answer:</h2>
            <p class="section__text">Inside
                <a href="scripts.js" target="_blank" class="section__link">scripts.js</a> :
            <pre class="code-container"><code class="code">'use strict';

const messages = [
  {text: "Hello", from: "John"},
  {text: "How goes?", from: "John"},
  {text: "See you soon", from: "Alice"}
];

const readMessages = new WeakSet();

readMessages.add(messages[0]);
readMessages.add(messages[1]);

readMessages.add(messages[0]);

alert("Read message 0: " + readMessages.has(messages[0]));

messages.shift();

</code></pre>
        </div>
    </section>
</main>
<footer class="footer">
    <a href="../../5.7%20Map%20and%20Set/5.7.3%20Iterable%20keys/index.html" class="footer__link">Previews Task</a>
    <a href="../5.8.2%20Store%20read%20dates/index.html" class="footer__link">Next Task</a>
</footer>
</body>
</html>
